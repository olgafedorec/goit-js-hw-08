{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAiBC,SAASC,cAAc,kBAI9CF,EAAeG,iBAAiB,QAASC,EAAAN,EAAA,EAGzC,SAAwBO,GACtB,MAAMC,EAAWC,KAAKC,MAAMC,aAAaC,QANzB,yBAMgD,GAChEJ,EAASD,EAAMM,OAAOC,MAAQP,EAAMM,OAAOE,MAE3CJ,aAAaK,QATG,sBASgBP,KAAKQ,UAAUT,G,GAPiB,MAClEN,EAAeG,iBAAiB,UAmBhC,SAA8BE,GAC5BA,EAAMW,iBACNC,QAAQC,IAAIX,KAAKC,MAAMC,aAAaC,QAxBpB,yBAyBhBD,aAAaU,WAzBG,uBA0BhBnB,EAAeoB,O,IAdjB,WACE,MAAMC,EAAmBd,KAAKC,MAAMC,aAAaC,QAbjC,wBAcZW,IACFrB,EAAesB,SAASC,MAAMV,MAAQQ,EAAiBE,OAAS,GAChEvB,EAAesB,SAASE,QAAQX,MAAQQ,EAAiBG,SAAW,G,CAIxEC","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst feedbackFormEl = document.querySelector('.feedback-form');\n\nconst LOCAL_KEY = 'feedback-form-state';\n\nfeedbackFormEl.addEventListener('input', throttle(onSaveFeedback, 500));\nfeedbackFormEl.addEventListener('submit', onSubmitFeedbackForm);\n\nfunction onSaveFeedback(event) {\n  const feedback = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\n  feedback[event.target.name] = event.target.value;\n\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(feedback));\n}\n\nfunction updateForm() {\n  const localStorageData = JSON.parse(localStorage.getItem(LOCAL_KEY));\n  if (localStorageData) {\n    feedbackFormEl.elements.email.value = localStorageData.email || '';\n    feedbackFormEl.elements.message.value = localStorageData.message || '';\n  }\n}\n\nupdateForm();\n\nfunction onSubmitFeedbackForm(event) {\n  event.preventDefault();\n  console.log(JSON.parse(localStorage.getItem(LOCAL_KEY)));\n  localStorage.removeItem(LOCAL_KEY);\n  feedbackFormEl.reset();\n}\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$feedbackFormEl","document","querySelector","addEventListener","$parcel$interopDefault","event","feedback","JSON","parse","localStorage","getItem","target","name","value","setItem","stringify","preventDefault","console","log","removeItem","reset","localStorageData","elements","email","message","$945622fd0f572e60$var$updateForm"],"version":3,"file":"03-feedback.138a1990.js.map"}